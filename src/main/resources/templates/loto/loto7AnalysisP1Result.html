<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org"
  th:with="lang=${#locale.language}" th:lang="${lang}">
<head>
	<title>SHA LOTO</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>
<body>

<!-- CSS -->
<style type="text/css">


</style>
<div class="row">	
	<div class="col-sm-12">
		<div class="col-sm-12">
			<legend>グラフ</legend>
		</div>
		<div id="chartDiv" class="col-sm-12 div-center">
			
		</div>
	</div>
</div>
<div class="row">
	<div class="col-sm-12">
		<div class="bs-component">
			<ul class="nav nav-tabs">
				<li class="nav-item">
					<a id="nomalNumberChartClk" class="nav-link" data-toggle="tab" href="#nomalNumberChartDiv" 
						th:text="${T(sha.work.enums.Loto7NumberType).NOMAL_NUMBER.getName()}"></a>
				</li>
				<li class="nav-item">
					<a id="bonusNumber1ChartClk" class="nav-link" data-toggle="tab" href="#bonusNumber1ChartDiv" 
						th:text="${T(sha.work.enums.Loto7NumberType).BONUS_NUMBER1.getName()}"></a>
				</li>
				<li class="nav-item">
					<a id="bonusNumber2ChartClk" class="nav-link" data-toggle="tab" href="#bonusNumber2ChartDiv"
						th:text="${T(sha.work.enums.Loto7NumberType).BONUS_NUMBER2.getName()}"></a>
				</li>
			</ul>
			<div id="chartTabContent" class="tab-content">
				<!-- nomalNumberChart -->
				<div class="tab-pane fade" id="nomalNumberChartDiv">
					<div class="col-sm-12">
						<legend>データ</legend>
					</div>
					<div class="col-sm-12 table-responsive">
						<table class="table table-striped table-bordered table-hover">
							<thead>
								<tr>
									<td class="td-t2s label-14b text-center">数字</td>
									<td class="info label-14b text-center" th:text="${T(sha.work.enums.Loto7NumberType).NOMAL_NUMBER.getName()}"></td>
								</tr>
							</thead>
							<tbody>
								<tr th:each="member : ${resultList.p1List}">
									<td class="text-center label-14b" th:text="${member.numberName}"></td>
									<td class="text-right">
										<span class="badge badge-primary label-14b">
											<span style="color: #E7CF59" th:text="${member.numberValue}"></span>回
										</span>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
				<!-- bonusNumber1Chart -->
				<div class="tab-pane fade" id="bonusNumber1ChartDiv">
					<div class="col-sm-12">
						<legend>データ</legend>
					</div>
					<div class="col-sm-12 table-responsive">
						<table class="table table-striped table-bordered table-hover">
							<thead>
								<tr>
									<td class="td-t2s label-14b text-center">数字</td>
									<td class="danger label-14b text-center" th:text="${T(sha.work.enums.Loto7NumberType).BONUS_NUMBER1.getName()}"></td>
								</tr>
							</thead>
							<tbody>
								<tr th:each="member : ${resultList.p1List}">
									<td class="text-center label-14b" th:text="${member.numberName}"></td>
									<td class="text-right">
										<span class="badge badge-info label-14b">
											<span style="color: #E7CF59" th:text="${member.bonusNumber1Value}"></span>回
										</span>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
				<!-- bonusNumber2Chart -->
				<div class="tab-pane fade" id="bonusNumber2ChartDiv">
					<div class="col-sm-12">
						<legend>データ</legend>
					</div>
					<div class="col-sm-12 table-responsive">
						<table class="table table-striped table-bordered table-hover">
							<thead>
								<tr>
									<td class="td-t2s label-14b text-center">数字</td>
									<td class="warning label-14b text-center" th:text="${T(sha.work.enums.Loto7NumberType).BONUS_NUMBER2.getName()}"></td>
								</tr>
							</thead>
							<tbody>
								<tr th:each="member : ${resultList.p1List}">
									<td class="text-center label-14b" th:text="${member.numberName}"></td>
									<td class="text-right">
										<span class="badge badge-warning label-14b">
											<span style="color: #E7CF59" th:text="${member.bonusNumber2Value}"></span>回
										</span>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<script type="text/javascript" th:inline="javascript">

/*<![CDATA[*/

	$(document).ready(function(){
		
		var svgWidth = $('#okPanel').width()-40;
	    var svgHeight = 300;
		var data = /*[[${resultList.p1List}]]*/ null;
		
		var titleHeader = "ロト7(LOTO7)";
		var titleFooter = "各数字過去出た回数";
		var xTitle = "（X軸：数字；　Y軸：回数）";
		
		$('#nomalNumberChartClk').on('click', function(event) {
			d3.select("#chartDiv").select("svg").remove();
			var svg = d3.select("#chartDiv").append("svg");
			var getValue = function getNumberValue(d) {return d.numberValue;}
			var title = /*[[${T(sha.work.enums.Loto7NumberType).NOMAL_NUMBER.getName()}]]*/;
			title = titleHeader + "【" + title + "】" + titleFooter;
			ShaChart.barChart.simpleBarChart(svg, svgWidth, svgHeight, data, 
					getValue, /*[[${T(sha.work.enums.Loto7NumberType).NOMAL_NUMBER.getBarColor()}]]*/,
					title, xTitle);
		});
		
		$('#bonusNumber1ChartClk').on('click', function(event) {
			d3.select("#chartDiv").select("svg").remove();
			var svg = d3.select("#chartDiv").append("svg");
			var getValue = function getNumberValue(d) {return d.bonusNumber1Value;}
			var title = /*[[${T(sha.work.enums.Loto7NumberType).BONUS_NUMBER1.getName()}]]*/;
			title = titleHeader + "【" + title + "】" + titleFooter;
			ShaChart.barChart.simpleBarChart(svg, svgWidth, svgHeight, data, 
					getValue, /*[[${T(sha.work.enums.Loto7NumberType).BONUS_NUMBER1.getBarColor()}]]*/,
					title, xTitle);
		});
		
		$('#bonusNumber2ChartClk').on('click', function(event) {
			d3.select("#chartDiv").select("svg").remove();
			var svg = d3.select("#chartDiv").append("svg");
			var getValue = function getNumberValue(d) {return d.bonusNumber2Value;}
			var title = /*[[${T(sha.work.enums.Loto7NumberType).BONUS_NUMBER2.getName()}]]*/;
			title = titleHeader + "【" + title + "】" + titleFooter;
			ShaChart.barChart.simpleBarChart(svg, svgWidth, svgHeight, data,
					getValue, /*[[${T(sha.work.enums.Loto7NumberType).BONUS_NUMBER2.getBarColor()}]]*/,
					title, xTitle);
		});
	    
		$('#okPanelTitle').text(titleHeader + titleFooter);
		$("#nomalNumberChartClk").click();
	});		

/*]]>*/
</script>	
	
</body>

</html>